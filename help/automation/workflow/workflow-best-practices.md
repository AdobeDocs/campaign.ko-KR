---
product: campaign
title: 워크플로우 모범 사례
description: Campaign 워크플로우 모범 사례 학습
feature: Workflows
exl-id: 8bcaf367-5b1f-4d31-80c9-c77df43c6ed1
source-git-commit: 190707b8b1ea5f90dc6385c13832fbb01378ca1d
workflow-type: tm+mt
source-wordcount: '1664'
ht-degree: 5%

---

# 워크플로우 모범 사례{#workflow-best-practices}

다음은 Campaign 워크플로우 성능을 최적화하고, 워크플로우 디자인을 개선하고, 올바른 설정을 선택하는 일반적인 지침입니다.

## 워크플로우 폴더 {#workflow-folders}

Adobe은 전용 폴더에서 워크플로우를 만들 것을 권장합니다.

워크플로우가 전체 플랫폼에 영향을 주는 경우(예: 정리 프로세스) 기본 제공 폴더에 하위 폴더를 추가하는 것을 고려해 볼 수 있습니다 **[!UICONTROL Technical Workflows]** 폴더를 입력합니다.

## 워크플로우 이름 지정 {#workflow-naming}

예상과 다르게 수행될 경우 쉽게 찾고 문제를 해결하기 위해 워크플로우에 적절한 이름과 레이블을 지정하는 것을 권장합니다. 워크플로우의 설명 필드를 작성하여 운영자가 쉽게 이해할 수 있도록 수행할 프로세스를 요약합니다.

워크플로우가 여러 워크플로우를 포함하는 프로세스의 일부인 경우 레이블을 입력할 때 명시적일 수 있습니다. 숫자를 사용하는 것은 워크플로우(레이블별)를 정렬하는 좋은 방법입니다.

예제:

* 001 - 가져오기 - 수신자 가져오기
* 002 - 가져오기 - 판매 가져오기
* 003 - 가져오기 - 판매 세부 정보 가져오기
* 010 - 내보내기 - 게재 로그 내보내기
* 011 - 내보내기 - 추적 로그 내보내기

## 워크플로우 심각도 {#workflow-severity}

워크플로우 속성의 **[!UICONTROL Execution]** 탭:

* 일반
* 프로덕션
* 중요

워크플로우를 만들 때 이 정보를 제공하면 구성된 프로세스의 심각도를 이해하는 데 도움이 됩니다.

이 옵션은 캠페인 워크플로우 이외의 워크플로우에 영향을 주지 않습니다.

캠페인에서 동시에 실행해야 하는 많은 프로세스가 있는 경우 심각도가 높은 캠페인 워크플로우(캠페인/작업의 일부로 만들어진 워크플로우)가 우선순위가 높습니다. NmsOperation_LimitConcurrency 옵션에 따라 기본적으로 캠페인에서 10개의 프로세스만 동시에 실행할 수 있습니다. 예를 들어 캠페인에 25개의 워크플로우가 포함된 경우 심각도가 높은 워크플로우가 10개의 프로세스가 있는 첫 번째 풀에서 실행됩니다.

## 워크플로우 모니터링 {#workflow-monitoring}

오류가 있을 경우 경고하려면 프로덕션 환경에서 실행되는 예약된 모든 워크플로우를 모니터링해야 합니다.

워크플로우 속성에서 기본값인 상위자 그룹을 선택합니다 **[!UICONTROL Workflow supervisors]** 또는 사용자 지정 그룹 중 하나일 수 있습니다. 전자 메일이 설정된 상태에서 하나 이상의 연산자가 이 그룹에 속하는지 확인하십시오.

워크플로우 작성을 시작하기 전에 워크플로우 관리자를 정의해야 합니다. 오류 발생 시 이메일로 알려 줍니다. 자세한 내용은 [오류 관리](monitor-workflow-execution.md#managing-errors).

정기적으로 **[!UICONTROL Monitoring]** 탭을 클릭하여 활성 워크플로우의 전체 상태를 확인합니다. 자세한 내용은 [인스턴스 감독](monitor-workflow-execution.md#instance-supervision).

Workflow HeatMap을 사용하면 Adobe Campaign 플랫폼 관리자가 인스턴스의 로드를 모니터링하고 그에 따라 워크플로우를 계획할 수 있습니다. 자세한 내용은 [워크플로우 모니터링](heatmap.md).

## 활동 {#using-activities}

>[!CAUTION]
>
>동일한 워크플로우 내에서 활동을 복사하고 붙여넣을 수 있습니다. 그러나 다른 워크플로우에서는 붙여넣기 활동을 복사하지 않는 것이 좋습니다. 게재 및 스케줄러와 같은 활동에 첨부된 일부 설정은 대상 워크플로우를 실행하는 동안 충돌과 오류가 발생할 수 있습니다. 대신 다음을 수행하는 것이 좋습니다  **복제** 워크플로우. 자세한 내용은 [워크플로우 복제](build-a-workflow.md#duplicate-workflows).

### 활동의 이름 {#name-of-the-activity}

워크플로우를 개발하는 동안 모든 활동에도 모든 Adobe Campaign 개체와 같은 이름이 있습니다. 도구에서 이름을 생성하는 동안 구성할 때 명시적인 이름으로 이름을 바꾸는 것이 좋습니다. 나중에 수행하면 다른 이전 활동의 이름을 사용하는 활동으로 워크플로우가 중단될 수 있습니다. 따라서 나중에 이름을 갱신하는 것은 어려운 일이 될 것이다.

활동 이름은 **[!UICONTROL Advanced]** 탭. 이름을 지정하지 마세요 **[!UICONTROL query]**, **[!UICONTROL query1]**, **[!UICONTROL query11]**&#x200B;하지만, **[!UICONTROL querySubscribedRecipients]**. 이 이름은 저널에 표시되며, SQL 로그에 해당하는 경우 이 이름이 표시되므로 구성 시 워크플로우를 디버깅하는 데 도움이 됩니다.

### 첫 번째 및 마지막 활동 {#first-and-last-activities}

* 항상 **[!UICONTROL Start]** 활동 또는 **[!UICONTROL Scheduler]** 활동. 관련 있는 경우 **[!UICONTROL External signal]** 활동.
* 워크플로우를 빌드할 때는 한 개만 사용합니다 **[!UICONTROL Scheduler]** 분기당 활동. 워크플로우의 동일한 분기에 여러 개의 스케줄러(서로 연결됨)가 있는 경우 실행할 작업 수가 기하급수적으로 증가하여 데이터베이스가 상당히 과부하 됩니다. 이 규칙은 이 있는 모든 활동에도 적용됩니다 **[!UICONTROL Scheduling & History]** 탭. 추가 정보 [예약](scheduler.md).

   ![](assets/wf-scheduler.png)

* 사용 **[!UICONTROL End]** 모든 워크플로우에 대한 활동. 이를 통해 Adobe Campaign은 워크플로우 내의 계산에 사용되는 임시 공간을 확보할 수 있습니다. 자세한 내용은 다음을 참조하십시오. [시작 및 종료](start-and-end.md).

### 활동 내의 Javascript {#javascript-within-an-activity}

워크플로우 활동을 초기화할 때 JavaScript를 추가할 수 있습니다. 이 작업은 활동의 **[!UICONTROL Advanced]** 활동의 탭.

워크플로우를 보다 쉽게 찾기 위해 활동 레이블의 시작 및 끝에 이중 대시를 다음과 같이 사용하는 것이 좋습니다. — 내 레이블 —

### 신호 {#signal}

대부분의 경우 신호가 어디에서 호출되는지 알 수 없습니다. 이 문제를 방지하려면 **[!UICONTROL Comment]** 내 필드 **[!UICONTROL Advanced]** 신호 활동의 탭에서 이 활동에 대한 신호의 예상 출처를 문서화합니다.

## 워크플로우 업데이트 {#workflow-update}

프로덕션 워크플로우는 직접 업데이트해서는 안 됩니다. 템플릿 워크플로우로 캠페인을 만드는 프로세스로 구성되지 않은 경우 먼저 개발 환경에서 프로세스를 테스트해야 합니다. 이 유효성 검사 후 워크플로우를 배포하고 프로덕션에서 시작할 수 있습니다.

프로덕션 환경이 아닌 개발 또는 스테이징 환경에서 모든 테스트를 수행합니다. 이런 경우에는 성능을 보장할 수 없습니다.

보관된 워크플로우는 개발 또는 테스트 플랫폼에 보관될 수 있지만 보관된 폴더에서는 프로덕션 환경이 가능한 한 깨끗해야 합니다. 이전 워크플로우가 비활성 상태인 경우 프로덕션 환경에서 제거해야 합니다.

## 실행 및 성능 {#execution-and-performance}

### 로그 {#logs}

JavaScript 메서드 **[!UICONTROL logInfo()]** 은 워크플로우를 디버깅하는 솔루션입니다. 그러나 자주 실행되는 활동에 대해서는 특히 주의해서 사용해야 합니다. 로그를 오버로드하고 로그 테이블의 크기를 크게 늘릴 수 있습니다.

### 중간 모집단 유지

다음 **두 실행 사이에 중간 모집단의 결과 유지** 옵션은 워크플로우의 두 실행 사이에 임시 테이블을 유지합니다.

워크플로우 속성 **[!UICONTROL General]** 탭이며, 를 개발 및 테스트 목적으로 사용하여 데이터를 모니터링하고 결과를 확인할 수 있습니다. 이 옵션은 개발 환경에서 사용할 수 있지만 프로덕션 환경에서는 사용할 수 없습니다. 임시 테이블을 유지하면 데이터베이스 크기가 크게 증가하고 결국 크기 제한에 도달할 수 있습니다. 또한 백업 속도가 느려집니다.

워크플로우의 마지막 실행 작업의 작업 테이블만 유지됩니다. 이전 실행의 작업 테이블은 **[!UICONTROL cleanup]** 워크플로우입니다.

>[!CAUTION]
>
>이 옵션은 **절대** 체크 인 **production** 워크플로우. 이 옵션은 결과를 분석하는 데 사용되며 테스트 목적으로만 설계되므로 개발 또는 스테이징 환경에서만 사용해야 합니다.


### 로그 SQL 쿼리

다음 **저널에 SQL 쿼리 로그** 옵션은 **[!UICONTROL Execution]** 워크플로우 속성의 탭. 이 옵션은 다른 활동의 모든 SQL 쿼리를 기록하고 플랫폼에서 실제로 실행되는 항목을 확인하는 방법을 제공합니다. 그러나 이 옵션은 사용해야 합니다 **일시적으로** 개발 및 **프로덕션에서 활성화되지 않음**.

더 이상 필요하지 않은 로그를 삭제하는 것이 좋습니다. 워크플로우 내역은 자동으로 삭제되지 않습니다. 모든 메시지는 기본적으로 유지됩니다. 내역은 **[!UICONTROL File > Actions]** 메뉴 또는 목록 위의 도구 모음에 있는 작업 단추를 클릭합니다. 삭제 내역을 선택합니다.
로그를 삭제하는 방법에 대해 알아보려면 다음을 참조하십시오 [설명서](start-a-workflow.md).

### 워크플로우 계획 {#workflow-planning}

문제를 방지하려면 워크플로우 실행 계획에 추가 모범 사례를 적용해야 합니다.

* 하루 동안 안정적인 활동 수준을 유지하고 인스턴스가 과부하가 발생하지 않도록 최고점을 피하십시오. 이렇게 하려면 하루 종일 워크플로우 시작 시간을 균등하게 분배합니다.
* 리소스 경합을 줄이기 위해 데이터 로드 일정을 하룻밤 만에 예약합니다.
* 긴 워크플로우는 서버 및 데이터베이스 리소스에 영향을 줄 수 있습니다. 가장 긴 워크플로우를 분할하여 처리 시간을 줄입니다.
* 전체 실행 시간을 줄이려면 시간이 많이 소요되는 활동을 간소화되고 더 빠른 활동으로 바꾸십시오.
* 20개 이상의 워크플로우를 동시에 실행하지 마십시오. 너무 많은 워크플로우가 동시에 실행될 때 플랫폼이 오버로드되어 불안해질 수 있습니다.

### 워크플로우 실행 {#workflow-execution}

다음 우수 사례를 구현하여 인스턴스 안정성을 개선합니다.

* **15분마다 이상 워크플로우를 실행하도록 예약하지 마십시오** 전체 시스템 성능을 저해하고 데이터베이스의 블록을 만들 수 있으므로

* **워크플로우를 일시 중지 상태로 두지 마십시오**. 임시 워크플로우를 만드는 경우, 워크플로우가 제대로 완료되고 **[!UICONTROL paused]** state. 일시 중지된 경우에는 임시 테이블을 유지하여 데이터베이스 크기를 늘려야 한다는 의미입니다. 시스템에서 워크플로가 실패하거나 일시 중지된 경우 워크플로우 속성 아래의 워크플로우 감독자를 지정하여 경고를 보냅니다.

   워크플로우가 일시 중지된 상태로 유지되지 않도록 하려면:

   * 예기치 않은 오류가 없는지 정기적으로 워크플로우를 확인합니다.
   * 예를 들어 여러 다른 워크플로우에서 큰 워크플로우를 분할하는 등 워크플로우를 가능한 한 단순하게 유지합니다. 다음을 사용할 수 있습니다 **[!UICONTROL External signal]** 활동은 다른 워크플로우의 실행을 기반으로 실행을 트리거합니다.
   * 워크플로우에서 흐름이 비활성화된 활동이 있으면 스레드를 열어 많은 공간을 사용할 수 있는 많은 임시 테이블로 이동하지 마십시오. 활동에 유지 안 함 **[!UICONTROL Do not enable]** 또는 **[!UICONTROL Enable but do not execute]** 는 워크플로우에 있습니다.

* **사용하지 않는 워크플로우 중지**. 계속 실행되는 워크플로우는 데이터베이스에 대한 연결을 유지합니다.

* **예외적인 경우에는 무조건적인 정지 만을 사용하십시오**. 이 작업은 정기적으로 사용하지 마십시오. 워크플로우에서 데이터베이스에 대해 생성한 연결에 대해 지우기 종료를 수행하지 않으면 성능에 영향을 줍니다.

* **동일한 워크플로우에서 여러 중지 요청을 수행하지 마십시오**. 워크플로우를 중지하는 것은 비동기 프로세스입니다. 요청이 등록되면 워크플로 서버나 서버가 진행 중인 작업을 취소합니다. 따라서 워크플로우 인스턴스를 중지하면 시간이 걸릴 수 있습니다. 특히 워크플로우가 여러 서버에서 실행 중인 경우 각 서버가 제어하여 진행 중인 작업을 취소해야 합니다. 문제가 발생하지 않도록 하려면 중지 작업이 완료될 때까지 기다렸다가 워크플로우를 여러 번 중지하지 마십시오.

### 엔진 옵션에서 실행 {#execute-in-the-engine-option}

프로덕션 환경에서는 엔진에서 워크플로우를 실행하지 마십시오. 이 **[!UICONTROL Execute in the engine]** 옵션이 선택되어 있습니다. **[!UICONTROL Workflow properties]**&#x200B;를 설정하는 경우, 워크플로우가 우선하며 다른 모든 워크플로우는 이 워크플로우가 완료될 때까지 워크플로우 엔진에 의해 중지됩니다.

![](assets/wf-execute-in-engine.png)
